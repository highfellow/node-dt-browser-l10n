(function(){var a=function(b,c){var d=a.resolve(b,c||"/"),e=a.modules[d];if(!e)throw new Error("Failed to resolve module "+b+", tried "+d);var f=e._cached?e._cached:e();return f},b=a;a.paths=[],a.modules={},a.extensions=[".js",".coffee"],a._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},a.resolve=function(){return function(b,c){function h(b){if(a.modules[b])return b;for(var c=0;c<a.extensions.length;c++){var d=a.extensions[c];if(a.modules[b+d])return b+d}}function i(b){b=b.replace(/\/+$/,"");var c=b+"/package.json";if(a.modules[c]){var e=a.modules[c](),f=e.browserify;if(typeof f=="object"&&f.main){var g=h(d.resolve(b,f.main));if(g)return g}else if(typeof f=="string"){var g=h(d.resolve(b,f));if(g)return g}else if(e.main){var g=h(d.resolve(b,e.main));if(g)return g}}return h(b+"/index")}function j(a,b){var c=k(b);for(var d=0;d<c.length;d++){var e=c[d],f=h(e+"/"+a);if(f)return f;var g=i(e+"/"+a);if(g)return g}var f=h(a);if(f)return f}function k(a){var b;a==="/"?b=[""]:b=d.normalize(a).split("/");var c=[];for(var e=b.length-1;e>=0;e--){if(b[e]==="node_modules")continue;var f=b.slice(0,e+1).join("/")+"/node_modules";c.push(f)}return c}c||(c="/");if(a._core[b])return b;var d=a.modules.path(),e=c||".";if(b.match(/^(?:\.\.?\/|\/)/)){var f=h(d.resolve(e,b))||i(d.resolve(e,b));if(f)return f}var g=j(b,e);if(g)return g;throw new Error("Cannot find module '"+b+"'")}}(),a.alias=function(b,d){var e=a.modules.path(),f=null;try{f=a.resolve(b+"/package.json","/")}catch(g){f=a.resolve(b,"/")}var h=e.dirname(f),i=c(a.modules);for(var j=0;j<i.length;j++){var k=i[j];if(k.slice(0,h.length+1)===h+"/"){var l=k.slice(h.length);a.modules[d+l]=a.modules[h+l]}else k===h&&(a.modules[d]=a.modules[h])}},a.define=function(b,c){var d=a._core[b]?"":a.modules.path().dirname(b),e=function(b){return a(b,d)};e.resolve=function(b){return a.resolve(b,d)},e.modules=a.modules;var f={exports:{}};a.modules[b]=function(){return c.call(f.exports,e,f,f.exports,d,b),a.modules[b]._cached=f.exports,f.exports}};var c=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};typeof process=="undefined"&&(process={}),process.nextTick||(process.nextTick=function(a){setTimeout(a,0)}),process.title||(process.title="browser"),process.binding||(process.binding=function(b){if(b==="evals")return a("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),a.define("path",function(a,b,c,d,e){function f(a,b){var c=[];for(var d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}function g(a,b){var c=0;for(var d=a.length;d>=0;d--){var e=a[d];e=="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}var h=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;c.resolve=function(){var a="",b=!1;for(var c=arguments.length;c>=-1&&!b;c--){var d=c<0?process.cwd():arguments[c];if(typeof d!="string"||!d)continue;a=d+"/"+a,b=d.charAt(0)==="/"}return a=g(f(a.split("/"),function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."},c.normalize=function(a){var b=a.charAt(0)==="/",c=a.slice(-1)==="/";return a=g(f(a.split("/"),function(a){return!!a}),!b).join("/"),!a&&!b&&(a="."),a&&c&&(a+="/"),(b?"/":"")+a},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(f(a,function(a,b){return a&&typeof a=="string"}).join("/"))},c.dirname=function(a){var b=h.exec(a)[1]||"",c=!1;return b?b.length===1||c&&b.length<=3&&b.charAt(1)===":"?b:b.substring(0,b.length-1):"."},c.basename=function(a,b){var c=h.exec(a)[2]||"";return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return h.exec(a)[3]||""}}),a.define("/dt-stream.js",function(a,b,c,d,e){(function(){var c,d,e,f,g,h,i,j,k,l=function(a,b){return function(){return a.apply(b,arguments)}};f=a("stream").Stream,e=a("ordered-emitter"),k=a("./util"),i=k.prettify,h=k.attrStr,c=["add","close","end","attr","text","raw","data"],d=function(){function a(a,b){var c,d,f,g,h=this;this.parent=b,this.release=l(this.release,this),this.order=new e({span:!0}),this.released=!1,this.isnext=!1,this.children=0,this.order.on("entry",function(a){var b;return b=a.job,typeof b=="function"?b():void 0}),(c=this.parent)!=null&&c._stream.write(function(){return h.children&&h.release(),h.isnext=!0}),this.idx=(d=(f=this.parent)!=null?f._stream.children:void 0)!=null?d:-1,(g=this.parent)!=null&&g._stream.children++,a.ready(function(){var a;return(a=h.parent)!=null?a._stream.emit("close",{order:h.idx+1}):void 0})}return a.prototype.emit=function(){var a;return(a=this.order).emit.apply(a,arguments)},a.prototype.write=function(a){return this.children&&this.isnext&&this.release(),this.emit("entry",{job:a,order:++this.children})},a.prototype.release=function(){return this.released||this.emit("release",{order:0}),this.released=!0},a}(),g=function(){function a(a,b){var c,d,e,g;this.template=a,b==null&&(b={}),this.close=l(this.close,this),this.builder=(d=this.template.xml)!=null?d:this.template,this.stream=(e=b.stream)!=null?e:new f,(g=(c=this.stream).readable)==null&&(c.readable=!0),this.opened_tags=0,this.initialize()}return a.prototype.initialize=function(){return this.template.stream=this.stream,this.builder._stream=new d(this.builder),this.builder._stream.release(),this.listen(),this.template.register("ready",function(a,b){return a._stream_ready===!0?b(a):a._stream_ready=function(){return b(a)}})},a.prototype.listen=function(){var a=this;return c.forEach(function(b){return a.template.on(b,a["on"+b].bind(a))})},a.prototype.write=function(a){if(a)return this.stream.emit("data",a)},a.prototype.close=function(){return this.builder.closed=!0,this.stream.emit("end")},a.prototype.onadd=function(a,b){var c=this;return b._stream=new d(b,a),this.opened_tags++,b._stream.write(function(){if(b===b.builder)return;return b.closed==="self"?c.write(i(b,"<"+b.name+h(b.attrs)+"/>")):c.write(i(b,"<"+b.name+h(b.attrs)+">"))}),b.ready(function(){c.opened_tags--;if(c.opened_tags===0)return typeof c.closed=="function"&&c.closed(),c.closed=!0})},a.prototype.onclose=function(a){var b=this;return a._stream.write(function(){return a.closed!=="self"&&a!==a.builder&&b.write(i(a,"</"+a.name+">")),typeof a._stream_ready=="function"&&a._stream_ready(),a._stream_ready=!0})},a.prototype.ondata=function(a,b){var c=this;return a._stream.write(function(){return c.write(b)})},a.prototype.ontext=function(a,b){var c=this;return a._stream.write(function(){return c.write(i(a,b))})},a.prototype.onraw=function(a,b){var c=this;return a._stream.write(function(){return c.write(b)})},a.prototype.onattr=function(a,b,c){if(!a.isempty)return;return console.warn("attributes of "+a.toString()+" don't change anymore")},a.prototype.onend=function(){return this.closed!=null&&this.opened_tags===0?this.close():(this.builder.closed="pending",this.closed=this.close)},a}(),j=function(a,b){return new g(a,b),a},j.Adapter=g,b.exports=j,process.title==="browser"&&function(){return this.dynamictemplate!=null?this.dynamictemplate.streamify=j:this.dynamictemplate={streamify:j}}.call(window)}).call(this)}),a.define("stream",function(a,b,c,d,e){}),a.define("/node_modules/ordered-emitter/package.json",function(a,b,c,d,e){b.exports={name:"ordered-emitter",version:"0.1.0",description:"emit events in order",main:"index.js",directories:{lib:".",example:"example",test:"test"},devDependencies:{tap:"0.0.x"},scripts:{test:"tap test"},repository:{type:"git",url:"http://github.com/substack/node-ordered-emitter.git"},keywords:["ordered","buffer","event","emitter"],author:{name:"James Halliday",email:"mail@substack.net",url:"http://substack.net"},license:"MIT/X11",engine:{node:">=0.4"}}}),a.define("/node_modules/ordered-emitter/index.js",function(a,b,c,d,e){function h(a){f.call(this),a||(a={}),this._eventQueue={},this._next={},this.options=a}var f=a("events").EventEmitter,g=a("util");b.exports=h,h.prototype=new f,h.prototype.reset=function(a){a===undefined?this._next={}:this._next[a]=0},h.prototype.emit=function(a,b){var c=function(a){f.prototype.emit.apply(this,a)}.bind(this,arguments),d=this._eventQueue,e=this._next,g=this.options.span?"*":a;if(typeof b=="object"&&b!==null&&typeof b.order=="number"){e[g]||(e[g]=0);if(b.order===e[g]){e[g]++,c();while(d[g]&&d[g][e[g]])d[g][e[g]](),delete d[g][e[g]],e[g]++}else d[g]||(d[g]={}),d[g][b.order]=c}else c()}}),a.define("events",function(a,b,c,d,e){process.EventEmitter||(process.EventEmitter=function(){});var f=c.EventEmitter=process.EventEmitter,g=typeof Array.isArray=="function"?Array.isArray:function(a){return Object.toString.call(a)==="[object Array]"},h=10;f.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},f.prototype.emit=function(a){if(a==="error")if(!this._events||!this._events.error||g(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if(typeof b=="function"){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(g(b)){var c=Array.prototype.slice.call(arguments,1),d=b.slice();for(var e=0,f=d.length;e<f;e++)d[e].apply(this,c);return!0}return!1},f.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",a,b);if(!this._events[a])this._events[a]=b;else if(g(this._events[a])){if(!this._events[a].warned){var c;this._events.maxListeners!==undefined?c=this._events.maxListeners:c=h,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];return this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},f.prototype.removeListener=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var c=this._events[a];if(g(c)){var d=c.indexOf(b);if(d<0)return this;c.splice(d,1),c.length==0&&delete this._events[a]}else this._events[a]===b&&delete this._events[a];return this},f.prototype.removeAllListeners=function(a){return a&&this._events&&this._events[a]&&(this._events[a]=null),this},f.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),g(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}),a.define("util",function(a,b,c,d,e){}),a.define("/util.js",function(a,b,c,d,e){(function(){var a,c,d,e;d=function(a){var b,c;return b=a.level,c=a.pretty,c===!0&&(c="  "),(new Array(b+1)).join(c)},c=function(a,b){var c,d;return c=a.level,d=a.pretty,d?(b!=null?b[(b!=null?b.length:void 0)-1]:void 0)==="\n"?b:""+b+"\n":b},e=function(a,b){return(a!=null?!a.pretty:!void 0)?b:""+d(a)+c(a,b)},a=function(a){var b,c,d;return a==null&&(a={}),c=function(){var c;c=[];for(b in a)d=a[b],d!=null?(typeof d!="number"&&typeof d!="boolean"&&(d='"'+d+'"'),c.push(""+b+"="+d)):c.push(""+b);return c}(),c.length&&c.unshift(""),c.join(" ")},b.exports={indent:d,breakline:c,prettify:e,attrStr:a}}).call(this)}),a("./dt-stream")}).call(this)